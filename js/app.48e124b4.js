(function(t){function e(e){for(var n,s,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"28ea":function(t,e,a){},"35f0":function(t,e,a){"use strict";a("28ea")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("v-container",[a("Toolbar",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait}}),a("Header"),a("Inputs",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait},on:{change:t.onChange}}),a("Table",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait,tariffs:t.tariffs,results:t.results}})],1)],1)],1)},i=[],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("ac1f"),a("841c"),a("a9e3"),a("159b"),a("caad"),a("2532"),a("5f35")),o=a.n(s),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"text-center",attrs:{dence:""}},[a("v-col",[a("div",{staticClass:"text-h5 font-weight-bold"},[t._v(" Каршеринг "),a("br",{staticClass:"d-block d-sm-none"}),t._v(" × "),a("br",{staticClass:"d-block d-sm-none"}),t._v(" Калькулятор ")])])],1)},l=[],u={name:"Header"},d=u,f=(a("dc2c"),a("2877")),v=a("6544"),h=a.n(v),p=a("62ad"),b=a("0fd9"),m=Object(f["a"])(d,c,l,!1,null,"16dc360f",null),_=m.exports;h()(m,{VCol:p["a"],VRow:b["a"]});var g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{dence:""}},[a("v-col",[a("v-form",[a("v-container",[a("v-row",{staticClass:"justify-center"},[a("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[a("v-text-field",{attrs:{value:t.duration,label:"Время",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","duration",e.target.value)}}})],1),a("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[a("v-text-field",{attrs:{value:t.distance,label:"Расстояние",suffix:"км.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","distance",e.target.value)}}})],1),a("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[a("v-text-field",{attrs:{value:t.wait,label:"Ожидание",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","wait",e.target.value)}}})],1)],1)],1)],1)],1)],1)},w=[],x={name:"Inputs",props:{duration:Number,distance:Number,wait:Number}},y=x,C=a("a523"),k=a("4bd4"),T=a("8654"),O=Object(f["a"])(y,g,w,!1,null,null,null),I=O.exports;h()(O,{VCol:p["a"],VContainer:C["a"],VForm:k["a"],VRow:b["a"],VTextField:T["a"]});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{dense:"",justify:"center"}},[a("v-col",{attrs:{xl:"8",lg:"10"}},[a("v-fade-transition",[t.tariffs?a("v-simple-table",{attrs:{dense:""}},[a("thead",[a("tr",[a("th",[t._v("Тариф")]),a("th",[t._v("Сумма")]),a("th",{staticClass:"border-left"},[t._v("Цена")]),a("th",{staticClass:"border-left"},[t._v("Время")]),a("th",[t._v("руб./мин.")]),a("th",{staticClass:"border-left"},[t._v("Расстояние")]),a("th",[t._v("руб./км.")]),a("th",{staticClass:"border-left"},[t._v("Ожидание")]),a("th",[t._v("руб./мин.")])])]),t._l(t.tariffs.providers,(function(e){return a("tbody",{key:e.id},[a("tr",[a("td",{staticClass:"provider-row",attrs:{colspan:"9"}},[a("img",{attrs:{src:t.PUBLIC_PATH+e.image,width:"12",height:"12"}}),a("span",{staticClass:"font-weight-black"},[t._v(t._s(e.name))]),e.website?a("span",[t._v(" • "),a("a",{staticClass:"text-decoration-none",attrs:{href:e.website.url,target:"_blank"}},[t._v(t._s(e.website.title))])]):t._e()])]),t._l(e.tariffs,(function(n){return a("tr",{key:n.id},[a("td",{staticClass:"nowrap"},[a("span",{class:t.isMinTotal(e,n,t.results)?["font-weight-bold","green--text"]:t.isMinByProvider(e,n,t.results)?["font-weight-bold","blue--text"]:[]},[t._v(t._s(n.name)+" ")])]),a("td",{staticClass:"nowrap"},[a("span",{class:t.isMinTotal(e,n,t.results)?["font-weight-bold","green--text"]:t.isMinByProvider(e,n,t.results)?["font-weight-bold","blue--text"]:[]},[t._v(" = "+t._s(t.formatCurrency(t.results[e.id+":"+n.id]))+" ")]),a("v-scroll-x-transition",{attrs:{"leave-absolute":""}},[t.isMinTotal(e,n,t.results)?a("v-badge",{attrs:{dot:"",inline:"",color:"green"}}):t.isMinByProvider(e,n,t.results)?a("v-badge",{attrs:{dot:"",inline:"",color:"blue"}}):t._e()],1)],1),a("td",{staticClass:"border-left"},[t._v(" "+t._s(t.formatCurrency(n.prices.price))+" ")]),a("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(n.includes.duration))+" ")]),a("td",[t._v(" "+t._s(t.formatCurrency(n.prices.duration))+" ")]),a("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(n.includes.distance))+" ")]),a("td",[t._v(" "+t._s(t.formatCurrency(n.prices.distance))+" ")]),a("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(n.includes.wait))+" ")]),a("td",[t._v(" "+t._s(t.formatCurrency(n.prices.wait))+" ")])])}))],2)}))],2):t._e()],1)],1)],1)},V=[],j=(a("b680"),{name:"Table",props:{duration:Number,distance:Number,wait:Number,tariffs:Object,results:Object},created:function(){this.PUBLIC_PATH=o.a.publicPath},methods:{valueOrDefault:function(t){return t&&-1!==t?t:"–"},formatCurrency:function(t){return t?t.toFixed(2):this.valueOrDefault(t)},getResult:function(t,e){return this.results[t.id+":"+e.id]},getMin:function(t){return t?this.results[t.id+":$min"]:this.results["$min"]},isMinTotal:function(t,e){return this.getResult(t,e)==this.getMin()},isMinByProvider:function(t,e){return this.getResult(t,e)==this.getMin(t)}}}),M=j,S=(a("35f0"),a("4ca6")),$=a("0789"),N=a("1f4f"),B=Object(f["a"])(M,P,V,!1,null,"231e132b",null),E=B.exports;h()(B,{VBadge:S["a"],VCol:p["a"],VFadeTransition:$["a"],VRow:b["a"],VScrollXTransition:$["b"],VSimpleTable:N["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"toolbar"}},[a("Theme"),a("Share",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait}})],1)},R=[],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{attrs:{icon:"",plain:""},on:{click:function(e){return t.share()}}},[a("v-icon",[t._v("mdi-share-variant")])],1),a("v-snackbar",{attrs:{bottom:"",right:"",text:"",color:"primary",transition:"slide-y-reverse-transition",elevation:"10",timeout:3e3},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.message)+" ")])],1)},H=[],L=(a("99af"),{name:"Share",props:{duration:Number,distance:Number,wait:Number},data:function(){return{snackbar:!1,message:null}},methods:{share:function(){var t=encodeURI("".concat(window.location.origin).concat(window.location.pathname,"?duration=").concat(this.duration||0,"&distance=").concat(this.distance||0,"&wait=").concat(this.wait||0));navigator.clipboard.writeText(t),this.message="Ссылка скопирована: ".concat(t),this.snackbar=!0}}}),D=L,F=a("8336"),q=a("132d"),X=a("2db4"),J=Object(f["a"])(D,U,H,!1,null,null,null),z=J.exports;h()(J,{VBtn:F["a"],VIcon:q["a"],VSnackbar:X["a"]});var G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-btn",{attrs:{icon:"",plain:""},on:{click:function(e){t.dark=!t.dark}}},[a("v-icon",[t._v("mdi-brightness-6")])],1)},K=[],Q={name:"Theme",data:function(){return{dark:this.getTheme()}},created:function(){this.$vuetify.theme.dark=this.dark},methods:{getTheme:function(){return"true"===localStorage.getItem("dark")},setTheme:function(t){localStorage.setItem("dark",t)}},watch:{dark:function(t){this.$vuetify.theme.dark=t,this.setTheme(t)}}},W=Q,Y=Object(f["a"])(W,G,K,!1,null,null,null),Z=Y.exports;h()(Y,{VBtn:F["a"],VIcon:q["a"]});var tt={name:"Toolbar",components:{Share:z,Theme:Z},props:{duration:Number,distance:Number,wait:Number}},et=tt,at=(a("b003"),Object(f["a"])(et,A,R,!1,null,"171a2ab9",null)),nt=at.exports,rt={name:"App",components:{Header:_,Inputs:I,Table:E,Toolbar:nt},data:function(){var t=new URLSearchParams(window.location.search);return{duration:parseInt(t.get("duration"))||parseInt(localStorage.getItem("duration"))||30,distance:parseInt(t.get("distance"))||parseInt(localStorage.getItem("distance"))||30,wait:parseInt(t.get("wait"))||parseInt(localStorage.getItem("wait"))||10,tariffs:null}},created:function(){this.PUBLIC_PATH=o.a.publicPath},mounted:function(){var t=this;fetch(this.PUBLIC_PATH+"tariffs.json").then((function(t){return t.json()})).then((function(e){return t.tariffs=e}))},computed:{results:function(){var t=this,e={},a=Number.MAX_VALUE;return this.tariffs&&this.tariffs.providers.forEach((function(n){var r=Number.MAX_VALUE;n.tariffs.forEach((function(i){var s=i.prices.price||0,o=i.prices.duration||0,c=i.prices.distance||0,l=i.prices.wait||0,u=i.includes.duration||0,d=i.includes.distance||0,f=i.includes.wait||0;-1===f&&(f=Math.max(0,u-t.duration));var v=s+Math.max(0,t.duration-u)*o+Math.max(0,t.distance-d)*c+Math.max(0,t.wait-f)*l;v=v||0,a=v<a?v:a,r=v<r?v:r,e[n.id+":"+i.id]=v})),e[n.id+":$min"]=r})),e["$min"]=a,e}},methods:{onChange:function(t,e){var a=parseFloat(e)||null;this[t]=a,a?localStorage.setItem(t,a):localStorage.removeItem(t)}}},it=rt,st=a("7496"),ot=a("f6c4"),ct=Object(f["a"])(it,r,i,!1,null,null,null),lt=ct.exports;h()(ct,{VApp:st["a"],VContainer:C["a"],VMain:ot["a"]});var ut=a("f309");n["a"].use(ut["a"]);var dt=new ut["a"]({icons:{iconFont:"mdi"}});n["a"].config.productionTip=!1,new n["a"]({vuetify:dt,render:function(t){return t(lt)}}).$mount("#app")},"5f35":function(t,e){t.exports={transpileDependencies:["vuetify"],publicPath:"./"}},a8fe:function(t,e,a){},b003:function(t,e,a){"use strict";a("a8fe")},dc2c:function(t,e,a){"use strict";a("e967")},e967:function(t,e,a){}});
//# sourceMappingURL=app.48e124b4.js.map