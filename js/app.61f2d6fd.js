(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},s=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/car-sharing-calculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-main",[r("v-container",[r("Header"),r("Inputs",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait},on:{change:t.onChange}}),r("Table",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait,tariffs:t.tariffs,results:t.results}})],1)],1)],1)},s=[],i=(r("d3b7"),r("a9e3"),r("159b"),r("caad"),r("2532"),r("5f35")),o=r.n(i),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{staticClass:"text-center",attrs:{dence:""}},[r("v-col",[r("h1",[t._v("Каршеринг × Калькулятор")])])],1)},c=[],u={name:"Header"},f=u,d=r("2877"),v=r("6544"),p=r.n(v),h=r("62ad"),b=r("0fd9"),m=Object(d["a"])(f,l,c,!1,null,null,null),_=m.exports;p()(m,{VCol:h["a"],VRow:b["a"]});var g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dence:""}},[r("v-col",[r("v-form",[r("v-container",[r("v-row",{staticClass:"justify-center"},[r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-text-field",{attrs:{value:t.duration,label:"Время",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","duration",e.target.value)}}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-text-field",{attrs:{value:t.distance,label:"Расстояние",suffix:"км.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","distance",e.target.value)}}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("v-text-field",{attrs:{value:t.wait,label:"Ожидание",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","wait",e.target.value)}}})],1)],1)],1)],1)],1)],1)},w=[],y={name:"Inputs",props:{duration:Number,distance:Number,wait:Number}},C=y,x=r("a523"),O=r("4bd4"),j=r("8654"),P=Object(d["a"])(C,g,w,!1,null,null,null),V=P.exports;p()(P,{VCol:h["a"],VContainer:x["a"],VForm:O["a"],VRow:b["a"],VTextField:j["a"]});var I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.tariffs?r("v-row",{attrs:{dense:""}},[r("v-col",[r("v-simple-table",{attrs:{dense:""}},[r("thead",[r("tr",[r("th",[t._v("Тариф")]),r("th",{staticClass:"border-left"},[t._v("Цена")]),r("th",{staticClass:"border-left"},[t._v("Время")]),r("th",[t._v("руб./мин.")]),r("th",{staticClass:"border-left"},[t._v("Расстояние")]),r("th",[t._v("руб./км.")]),r("th",{staticClass:"border-left"},[t._v("Ожидание")]),r("th",[t._v("руб./мин.")]),r("th",{staticClass:"border-left"},[t._v("Сумма")])])]),t._l(t.tariffs.providers,(function(e){return r("tbody",{key:e.id},[r("tr",[r("td",{staticClass:"provider-row",attrs:{colspan:"9"}},[r("img",{attrs:{src:t.PUBLIC_PATH+e.image,width:"12",height:"12"}}),r("span",{staticClass:"font-weight-black"},[t._v(t._s(e.name))]),e.website?r("span",[t._v(" • "),r("a",{staticClass:"text-decoration-none",attrs:{href:e.website.url,target:"_blank"}},[t._v(t._s(e.website.title))])]):t._e()])]),t._l(e.tariffs,(function(a){return r("tr",{key:a.id},[r("td",{class:t.colorize(e,a,t.results)},[t._v(" "+t._s(a.name)+" ")]),r("td",{staticClass:"border-left",class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.formatCurrency(a.prices.price))+" ")]),r("td",{staticClass:"border-left",class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.valueOrDefault(a.includes.duration))+" ")]),r("td",{class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.formatCurrency(a.prices.duration))+" ")]),r("td",{staticClass:"border-left",class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.valueOrDefault(a.includes.distance))+" ")]),r("td",{class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.formatCurrency(a.prices.distance))+" ")]),r("td",{staticClass:"border-left",class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.valueOrDefault(a.includes.wait))+" ")]),r("td",{class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.formatCurrency(a.prices.wait))+" ")]),r("td",{staticClass:"border-left font-weight-bold",class:t.colorize(e,a,t.results)},[t._v(" "+t._s(t.formatCurrency(t.results[e.id+":"+a.id]))+" ")])])}))],2)}))],2)],1)],1):t._e()},T=[],$=(r("b680"),{name:"Table",props:{duration:Number,distance:Number,wait:Number,tariffs:Object,results:Object},created:function(){this.PUBLIC_PATH=o.a.publicPath},methods:{valueOrDefault:function(t){return t&&-1!==t?t:"–"},formatCurrency:function(t){return t?t.toFixed(2):this.valueOrDefault(t)},colorize:function(t,e,r){var a=r[t.id+":"+e.id];if(0!=a)return a==r["$min"]?["green","lighten-5"]:a==r[t.id+":$min"]?["light-blue","lighten-5"]:void 0}}}),M=$,S=(r("8919"),r("1f4f")),k=Object(d["a"])(M,I,T,!1,null,"1438f33c",null),z=k.exports;p()(k,{VCol:h["a"],VRow:b["a"],VSimpleTable:S["a"]});var A={name:"App",components:{Header:_,Inputs:V,Table:z},data:function(){return{duration:localStorage.getItem("duration")||30,distance:localStorage.getItem("distance")||30,wait:localStorage.getItem("wait")||10,tariffs:null}},created:function(){this.PUBLIC_PATH=o.a.publicPath},mounted:function(){var t=this;fetch(this.PUBLIC_PATH+"tariffs.json").then((function(t){return t.json()})).then((function(e){return t.tariffs=e}))},computed:{results:function(){var t=this,e={},r=Number.MAX_VALUE;return this.tariffs&&this.tariffs.providers.forEach((function(a){var n=Number.MAX_VALUE;a.tariffs.forEach((function(s){var i=s.prices.price||0,o=s.prices.duration||0,l=s.prices.distance||0,c=s.prices.wait||0,u=s.includes.duration||0,f=s.includes.distance||0,d=s.includes.wait||0;-1===d&&(d=Math.max(0,u-t.duration));var v=i+Math.max(0,t.duration-u)*o+Math.max(0,t.distance-f)*l+Math.max(0,t.wait-d)*c;v=v||0,r=v<r?v:r,n=v<n?v:n,e[a.id+":"+s.id]=v})),e[a.id+":$min"]=n})),e["$min"]=r,e}},methods:{onChange:function(t,e){var r=parseFloat(e)||null;this[t]=r,r?localStorage.setItem(t,r):localStorage.removeItem(t)}}},E=A,N=r("7496"),H=r("f6c4"),D=Object(d["a"])(E,n,s,!1,null,null,null),L=D.exports;p()(D,{VApp:N["a"],VContainer:x["a"],VMain:H["a"]});var U=r("f309");a["a"].use(U["a"]);var B=new U["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:B,render:function(t){return t(L)}}).$mount("#app")},"5f35":function(t,e,r){t.exports={transpileDependencies:["vuetify"],publicPath:"/car-sharing-calculator/"}},"692a":function(t,e,r){},8919:function(t,e,r){"use strict";r("692a")}});
//# sourceMappingURL=app.61f2d6fd.js.map