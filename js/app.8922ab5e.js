(function(t){function e(e){for(var a,s,o=e[0],l=e[1],u=e[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&f.push(n[s][0]),n[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},n={app:0},i=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/car-sharing-calculator/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0e07":function(t,e,r){"use strict";r("c28c")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-main",[r("v-container",[r("Header"),r("Inputs",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait},on:{change:t.onChange}}),r("Table",{attrs:{duration:t.duration,distance:t.distance,wait:t.wait,tariffs:t.tariffs,results:t.results}})],1)],1)],1)},i=[],s=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("ac1f"),r("841c"),r("a9e3"),r("159b"),r("caad"),r("2532"),r("5f35")),o=r.n(s),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{staticClass:"text-center",attrs:{dence:""}},[r("v-col",[r("h1",[t._v("Каршеринг × Калькулятор")])])],1)},u=[],c={name:"Header"},d=c,f=r("2877"),v=r("6544"),p=r.n(v),h=r("62ad"),b=r("0fd9"),m=Object(f["a"])(d,l,u,!1,null,null,null),_=m.exports;p()(m,{VCol:h["a"],VRow:b["a"]});var g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dence:""}},[r("v-col",[r("v-form",[r("v-container",[r("v-row",{staticClass:"justify-center"},[r("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[r("v-text-field",{attrs:{value:t.duration,label:"Время",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","duration",e.target.value)}}})],1),r("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[r("v-text-field",{attrs:{value:t.distance,label:"Расстояние",suffix:"км.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","distance",e.target.value)}}})],1),r("v-col",{attrs:{xl:"1",lg:"2",md:"2",sm:"3",cols:"12"}},[r("v-text-field",{attrs:{value:t.wait,label:"Ожидание",suffix:"мин.",required:"",dense:""},on:{keyup:function(e){return t.$emit("change","wait",e.target.value)}}})],1)],1)],1)],1)],1)],1)},w=[],y={name:"Inputs",props:{duration:Number,distance:Number,wait:Number}},C=y,x=r("a523"),O=r("4bd4"),P=r("8654"),j=Object(f["a"])(C,g,w,!1,null,null,null),I=j.exports;p()(j,{VCol:h["a"],VContainer:x["a"],VForm:O["a"],VRow:b["a"],VTextField:P["a"]});var M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{dense:"",justify:"center"}},[r("v-col",{attrs:{xl:"8",lg:"10"}},[r("v-fade-transition",[t.tariffs?r("v-simple-table",{attrs:{dense:""}},[r("thead",[r("tr",[r("th",[t._v("Тариф")]),r("th",{staticClass:"border-left"},[t._v("Цена")]),r("th",{staticClass:"border-left"},[t._v("Время")]),r("th",[t._v("руб./мин.")]),r("th",{staticClass:"border-left"},[t._v("Расстояние")]),r("th",[t._v("руб./км.")]),r("th",{staticClass:"border-left"},[t._v("Ожидание")]),r("th",[t._v("руб./мин.")]),r("th",{staticClass:"border-left"},[t._v("Сумма")])])]),t._l(t.tariffs.providers,(function(e){return r("tbody",{key:e.id},[r("tr",[r("td",{staticClass:"provider-row",attrs:{colspan:"9"}},[r("img",{attrs:{src:t.PUBLIC_PATH+e.image,width:"12",height:"12"}}),r("span",{staticClass:"font-weight-black"},[t._v(t._s(e.name))]),e.website?r("span",[t._v(" • "),r("a",{staticClass:"text-decoration-none",attrs:{href:e.website.url,target:"_blank"}},[t._v(t._s(e.website.title))])]):t._e()])]),t._l(e.tariffs,(function(a){return r("tr",{key:a.id},[r("td",[t._v(" "+t._s(a.name)+" "),r("v-scroll-x-transition",{attrs:{"leave-absolute":""}},[t.isMinByProvider(e,a,t.results)?r("v-badge",{attrs:{dot:"",inline:"",color:"blue"}}):t._e()],1),r("v-scroll-x-transition",{attrs:{"leave-absolute":""}},[t.isMinTotal(e,a,t.results)?r("v-badge",{attrs:{dot:"",inline:"",color:"green"}}):t._e()],1)],1),r("td",{staticClass:"border-left"},[t._v(" "+t._s(t.formatCurrency(a.prices.price))+" ")]),r("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(a.includes.duration))+" ")]),r("td",[t._v(" "+t._s(t.formatCurrency(a.prices.duration))+" ")]),r("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(a.includes.distance))+" ")]),r("td",[t._v(" "+t._s(t.formatCurrency(a.prices.distance))+" ")]),r("td",{staticClass:"border-left"},[t._v(" "+t._s(t.valueOrDefault(a.includes.wait))+" ")]),r("td",[t._v(" "+t._s(t.formatCurrency(a.prices.wait))+" ")]),r("td",{staticClass:"border-left font-weight-bold"},[t._v(" "+t._s(t.formatCurrency(t.results[e.id+":"+a.id]))+" ")])])}))],2)}))],2):t._e()],1)],1)],1)},V=[],T=(r("b680"),{name:"Table",props:{duration:Number,distance:Number,wait:Number,tariffs:Object,results:Object},created:function(){this.PUBLIC_PATH=o.a.publicPath},methods:{valueOrDefault:function(t){return t&&-1!==t?t:"–"},formatCurrency:function(t){return t?t.toFixed(2):this.valueOrDefault(t)},getResult:function(t,e){return this.results[t.id+":"+e.id]},getMin:function(t){return t?this.results[t.id+":$min"]:this.results["$min"]},isMinTotal:function(t,e){return this.getResult(t,e)==this.getMin()},isMinByProvider:function(t,e){return this.getResult(t,e)==this.getMin(t)}}}),S=T,$=(r("0e07"),r("4ca6")),k=r("0789"),A=r("1f4f"),E=Object(f["a"])(S,M,V,!1,null,"27340f3c",null),N=E.exports;p()(E,{VBadge:$["a"],VCol:h["a"],VFadeTransition:k["a"],VRow:b["a"],VScrollXTransition:k["b"],VSimpleTable:A["a"]});var B={name:"App",components:{Header:_,Inputs:I,Table:N},data:function(){var t=new URLSearchParams(window.location.search);return{duration:parseInt(t.get("duration"))||parseInt(localStorage.getItem("duration"))||30,distance:parseInt(t.get("distance"))||parseInt(localStorage.getItem("distance"))||30,wait:parseInt(t.get("wait"))||parseInt(localStorage.getItem("wait"))||10,tariffs:null}},created:function(){this.PUBLIC_PATH=o.a.publicPath},mounted:function(){var t=this;fetch(this.PUBLIC_PATH+"tariffs.json").then((function(t){return t.json()})).then((function(e){return t.tariffs=e}))},computed:{results:function(){var t=this,e={},r=Number.MAX_VALUE;return this.tariffs&&this.tariffs.providers.forEach((function(a){var n=Number.MAX_VALUE;a.tariffs.forEach((function(i){var s=i.prices.price||0,o=i.prices.duration||0,l=i.prices.distance||0,u=i.prices.wait||0,c=i.includes.duration||0,d=i.includes.distance||0,f=i.includes.wait||0;-1===f&&(f=Math.max(0,c-t.duration));var v=s+Math.max(0,t.duration-c)*o+Math.max(0,t.distance-d)*l+Math.max(0,t.wait-f)*u;v=v||0,r=v<r?v:r,n=v<n?v:n,e[a.id+":"+i.id]=v})),e[a.id+":$min"]=n})),e["$min"]=r,e}},methods:{onChange:function(t,e){var r=parseFloat(e)||null;this[t]=r,r?localStorage.setItem(t,r):localStorage.removeItem(t)}}},H=B,L=r("7496"),R=r("f6c4"),U=Object(f["a"])(H,n,i,!1,null,null,null),D=U.exports;p()(U,{VApp:L["a"],VContainer:x["a"],VMain:R["a"]});var F=r("f309");a["a"].use(F["a"]);var q=new F["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:q,render:function(t){return t(D)}}).$mount("#app")},"5f35":function(t,e,r){t.exports={transpileDependencies:["vuetify"],publicPath:"/car-sharing-calculator/"}},c28c:function(t,e,r){}});
//# sourceMappingURL=app.8922ab5e.js.map